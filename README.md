Данный код используется для преобразования графов полученных из проекта https://github.com/citec-spbu/Urban-Transit-Network-Analysis для графов маршрутов общественного транспорта в .geojson для QGIS. Позволяет показывать значение leiden_community в виде цвета и всплывающие подсказки с названием узла и значением leiden_community. Хотя это и требует настройки.

Как аргумент нужно указать только название города, обращение к графу используется стандартное для проекта. Данные для подключения к базе neo4j пока нужно менять в самом коде.

В geojson с узлами для каждого узла записывается:
1. То что это точка и её координаты
2. Уникальный номкер в базе
3. Имя из базы
4. leiden_community
5. Цвет в HEX формате (генерируется в коде)
6. Html код для всплывающих подсказок с узлами

В geojson с связями для каждой связи записывается:
1. Тип LineString с координатами начала и конца
2. Имя из базы
3. Длительность в минутах
4. Название маршрута.

Как получить результат:
1. Запустить проект https://github.com/citec-spbu/Urban-Transit-Network-Analysis на каком-либо городе, получив локально данные для базы neo4j
2. После проверки на правильность данных для подключения, запустить код отсюда с указанием имени графа узлов (что в Nodes) и графа отношений (что в Relations), которые связаны с городом.
3. Получить сообщение об успехе и найти два .geojson в папке с кодом: nodes и links.
4. Открыть QGIS (желательно скачать модуль QuickMapServices, чтобы скачать там карту с OpenStreetMap) и добавить наши geojson как слои через: Слой -> Добавить слой -> Добавить векторный слой. Там в поле Источник нужно указать путь к файлам. Слои добавляются по одному.
5. Теперь в панели Слои (открывается через Настройки -> Панели -> Слои) нажмите на слой с началом nodes правой кнопкой мыши и выберите пункт Свойства. Теперь слева выберите пункт Всплывающая подсказка. Там поставьте галочку в Enable maps tips и в поле Всплывающие подсказки HTML укажите: [%"popup"%]. Нажмите внизу Ок.
6. Теперь в панели Стиль слоя (открывается через Настройки -> Панели -> Стиль слоя) проверьте, что указан слой с началом nodes, выбрана Простая символика. Нажмите на пункт Простой маркер и в строке Цвет заливки нажмите на значок <img width="43" height="35" alt="изображение" src="https://github.com/user-attachments/assets/bee8a63f-6a95-4a72-9870-e9e08533a21f" />. Теперь выбирите пункт Подбор и в строке Источник укажите: "color"
Вот пример итога для автобусов Бирска: <img width="1525" height="921" alt="Снимок экрана_20251024_185520" src="https://github.com/user-attachments/assets/3157d956-fcbd-44b1-aeac-efa3f8955c5c" />


